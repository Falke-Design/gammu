<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: smsdsending Pages: 1 -->
<svg width="612pt" height="816pt"
 viewBox="0.00 0.00 611.63 816.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 812)">
<title>smsdsending</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-812 607.6349,-812 607.6349,4 -4,4"/>
<!-- new message -->
<g id="node1" class="node">
<title>new message</title>
<polygon fill="none" stroke="#000000" points="229.7918,-808 140.7918,-808 140.7918,-772 229.7918,-772 229.7918,-808"/>
<text text-anchor="middle" x="185.2918" y="-786.3" font-family="Times,serif" font-size="14.00" fill="#000000">new message</text>
</g>
<!-- manually created SMS -->
<g id="node5" class="node">
<title>manually created SMS</title>
<ellipse fill="none" stroke="#000000" cx="92.2918" cy="-717" rx="92.0841" ry="18"/>
<text text-anchor="middle" x="92.2918" y="-713.3" font-family="Times,serif" font-size="14.00" fill="#000000">manually created SMS</text>
</g>
<!-- new message&#45;&gt;manually created SMS -->
<g id="edge1" class="edge">
<title>new message&#45;&gt;manually created SMS</title>
<path fill="none" stroke="#000000" d="M162.303,-771.9551C150.3896,-762.6037 135.6821,-751.059 122.8272,-740.9686"/>
<polygon fill="#000000" stroke="#000000" points="124.7224,-738.0068 114.6952,-734.5855 120.4003,-743.5131 124.7224,-738.0068"/>
</g>
<!-- CreateOutboxSMS -->
<g id="node6" class="node">
<title>CreateOutboxSMS</title>
<ellipse fill="none" stroke="#000000" cx="280.2918" cy="-717" rx="77.9862" ry="18"/>
<text text-anchor="middle" x="280.2918" y="-713.3" font-family="Times,serif" font-size="14.00" fill="#000000">CreateOutboxSMS</text>
</g>
<!-- new message&#45;&gt;CreateOutboxSMS -->
<g id="edge2" class="edge">
<title>new message&#45;&gt;CreateOutboxSMS</title>
<path fill="none" stroke="#000000" d="M208.775,-771.9551C221.1515,-762.4447 236.4801,-750.6658 249.7678,-740.4553"/>
<polygon fill="#000000" stroke="#000000" points="251.9362,-743.2031 257.733,-734.3347 247.671,-737.6525 251.9362,-743.2031"/>
</g>
<!-- message in storage -->
<g id="node2" class="node">
<title>message in storage</title>
<polygon fill="none" stroke="#000000" points="245.2918,-662 125.2918,-662 125.2918,-626 245.2918,-626 245.2918,-662"/>
<text text-anchor="middle" x="185.2918" y="-640.3" font-family="Times,serif" font-size="14.00" fill="#000000">message in storage</text>
</g>
<!-- FindOutboxSMS -->
<g id="node7" class="node">
<title>FindOutboxSMS</title>
<ellipse fill="none" stroke="#000000" cx="185.2918" cy="-571" rx="71.4873" ry="18"/>
<text text-anchor="middle" x="185.2918" y="-567.3" font-family="Times,serif" font-size="14.00" fill="#000000">FindOutboxSMS</text>
</g>
<!-- message in storage&#45;&gt;FindOutboxSMS -->
<g id="edge5" class="edge">
<title>message in storage&#45;&gt;FindOutboxSMS</title>
<path fill="none" stroke="#000000" d="M185.2918,-625.9551C185.2918,-617.8828 185.2918,-608.1764 185.2918,-599.1817"/>
<polygon fill="#000000" stroke="#000000" points="188.7919,-599.0903 185.2918,-589.0904 181.7919,-599.0904 188.7919,-599.0903"/>
</g>
<!-- message sent -->
<g id="node3" class="node">
<title>message sent</title>
<polygon fill="none" stroke="#000000" points="510.7918,-109 421.7918,-109 421.7918,-73 510.7918,-73 510.7918,-109"/>
<text text-anchor="middle" x="466.2918" y="-87.3" font-family="Times,serif" font-size="14.00" fill="#000000">message sent</text>
</g>
<!-- error sending message -->
<g id="node4" class="node">
<title>error sending message</title>
<polygon fill="none" stroke="#000000" points="377.7918,-36 238.7918,-36 238.7918,0 377.7918,0 377.7918,-36"/>
<text text-anchor="middle" x="308.2918" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">error sending message</text>
</g>
<!-- manually created SMS&#45;&gt;message in storage -->
<g id="edge3" class="edge">
<title>manually created SMS&#45;&gt;message in storage</title>
<path fill="none" stroke="#000000" d="M114.8045,-699.3287C126.6227,-690.0521 141.2875,-678.541 154.1755,-668.4247"/>
<polygon fill="#000000" stroke="#000000" points="156.6353,-670.9433 162.3403,-662.0157 152.3131,-665.437 156.6353,-670.9433"/>
</g>
<!-- CreateOutboxSMS&#45;&gt;message in storage -->
<g id="edge4" class="edge">
<title>CreateOutboxSMS&#45;&gt;message in storage</title>
<path fill="none" stroke="#000000" d="M257.7781,-699.7C245.6007,-690.3426 230.3604,-678.6317 217.0007,-668.3658"/>
<polygon fill="#000000" stroke="#000000" points="219.0315,-665.5123 208.9696,-662.1945 214.7664,-671.0629 219.0315,-665.5123"/>
</g>
<!-- AddSentSMSInfo(ERROR) -->
<g id="node8" class="node">
<title>AddSentSMSInfo(ERROR)</title>
<ellipse fill="none" stroke="#000000" cx="243.2918" cy="-251" rx="109.381" ry="18"/>
<text text-anchor="middle" x="243.2918" y="-247.3" font-family="Times,serif" font-size="14.00" fill="#000000">AddSentSMSInfo(ERROR)</text>
</g>
<!-- FindOutboxSMS&#45;&gt;AddSentSMSInfo(ERROR) -->
<g id="edge6" class="edge">
<title>FindOutboxSMS&#45;&gt;AddSentSMSInfo(ERROR)</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M180.6179,-552.8356C177.2485,-538.1478 173.2918,-516.8802 173.2918,-498 173.2918,-498 173.2918,-498 173.2918,-338 173.2918,-312.9509 191.1245,-291.0244 208.7885,-275.4497"/>
<polygon fill="#000000" stroke="#000000" points="211.3849,-277.8421 216.8278,-268.7523 206.9044,-272.4639 211.3849,-277.8421"/>
<text text-anchor="middle" x="187.7918" y="-421.3" font-family="Times,serif" font-size="14.00" fill="#000000">Error</text>
</g>
<!-- check duplicates -->
<g id="node9" class="node">
<title>check duplicates</title>
<ellipse fill="none" stroke="#000000" cx="271.2918" cy="-498" rx="69.5877" ry="18"/>
<text text-anchor="middle" x="271.2918" y="-494.3" font-family="Times,serif" font-size="14.00" fill="#000000">check duplicates</text>
</g>
<!-- FindOutboxSMS&#45;&gt;check duplicates -->
<g id="edge7" class="edge">
<title>FindOutboxSMS&#45;&gt;check duplicates</title>
<path fill="none" stroke="#000000" d="M205.6726,-553.7C216.8369,-544.2234 230.8449,-532.3328 243.0484,-521.974"/>
<polygon fill="#000000" stroke="#000000" points="245.4005,-524.5685 250.7593,-515.4288 240.8705,-519.2318 245.4005,-524.5685"/>
</g>
<!-- MoveSMS(force, ERR) -->
<g id="node14" class="node">
<title>MoveSMS(force, ERR)</title>
<ellipse fill="none" stroke="#000000" cx="308.2918" cy="-91" rx="95.5831" ry="18"/>
<text text-anchor="middle" x="308.2918" y="-87.3" font-family="Times,serif" font-size="14.00" fill="#000000">MoveSMS(force, ERR)</text>
</g>
<!-- AddSentSMSInfo(ERROR)&#45;&gt;MoveSMS(force, ERR) -->
<g id="edge18" class="edge">
<title>AddSentSMSInfo(ERROR)&#45;&gt;MoveSMS(force, ERR)</title>
<path fill="none" stroke="#000000" d="M250.6218,-232.957C261.9352,-205.1086 283.7334,-151.4514 297.0496,-118.6731"/>
<polygon fill="#000000" stroke="#000000" points="300.3677,-119.8046 300.8889,-109.2226 293.8824,-117.1699 300.3677,-119.8046"/>
</g>
<!-- check duplicates&#45;&gt;AddSentSMSInfo(ERROR) -->
<g id="edge8" class="edge">
<title>check duplicates&#45;&gt;AddSentSMSInfo(ERROR)</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M261.5858,-480.1458C250.7349,-459.0804 233.8284,-422.6553 227.2918,-389 219.9522,-351.2102 227.9843,-306.899 235.0733,-278.8879"/>
<polygon fill="#000000" stroke="#000000" points="238.5157,-279.5622 237.7101,-268.998 231.752,-277.7588 238.5157,-279.5622"/>
<text text-anchor="middle" x="274.2918" y="-377.8" font-family="Times,serif" font-size="14.00" fill="#000000">Too many retries</text>
</g>
<!-- GSM_SendSMS -->
<g id="node10" class="node">
<title>GSM_SendSMS</title>
<ellipse fill="none" stroke="#000000" cx="339.2918" cy="-425" rx="70.3881" ry="18"/>
<text text-anchor="middle" x="339.2918" y="-421.3" font-family="Times,serif" font-size="14.00" fill="#000000">GSM_SendSMS</text>
</g>
<!-- check duplicates&#45;&gt;GSM_SendSMS -->
<g id="edge9" class="edge">
<title>check duplicates&#45;&gt;GSM_SendSMS</title>
<path fill="none" stroke="#000000" d="M287.7527,-480.3287C296.2723,-471.1827 306.8152,-459.8646 316.1415,-449.8526"/>
<polygon fill="#000000" stroke="#000000" points="318.7275,-452.2114 322.9825,-442.5085 313.6054,-447.4401 318.7275,-452.2114"/>
</g>
<!-- GSM_SendSMS&#45;&gt;AddSentSMSInfo(ERROR) -->
<g id="edge11" class="edge">
<title>GSM_SendSMS&#45;&gt;AddSentSMSInfo(ERROR)</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M335.7325,-406.5671C333.4492,-396.6478 330.0169,-384.3585 325.2918,-374 308.9041,-338.0739 282.5951,-300.9022 264.2099,-276.9593"/>
<polygon fill="#000000" stroke="#000000" points="266.9706,-274.8078 258.0666,-269.0659 261.4464,-279.1071 266.9706,-274.8078"/>
<text text-anchor="middle" x="329.7918" y="-334.3" font-family="Times,serif" font-size="14.00" fill="#000000">Error</text>
</g>
<!-- RefreshSendStatus -->
<g id="node11" class="node">
<title>RefreshSendStatus</title>
<ellipse fill="none" stroke="#000000" cx="463.2918" cy="-338" rx="77.1866" ry="18"/>
<text text-anchor="middle" x="463.2918" y="-334.3" font-family="Times,serif" font-size="14.00" fill="#000000">RefreshSendStatus</text>
</g>
<!-- GSM_SendSMS&#45;&gt;RefreshSendStatus -->
<g id="edge10" class="edge">
<title>GSM_SendSMS&#45;&gt;RefreshSendStatus</title>
<path fill="none" stroke="#000000" d="M363.4946,-408.019C382.574,-394.6326 409.3757,-375.8282 430.4004,-361.0771"/>
<polygon fill="#000000" stroke="#000000" points="432.5504,-363.8442 438.7263,-355.2355 428.5299,-358.1139 432.5504,-363.8442"/>
</g>
<!-- RefreshSendStatus&#45;&gt;AddSentSMSInfo(ERROR) -->
<g id="edge13" class="edge">
<title>RefreshSendStatus&#45;&gt;AddSentSMSInfo(ERROR)</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M430.5197,-321.5694C408.8763,-311.0272 379.7322,-297.4141 353.2918,-287 337.964,-280.9628 321.172,-275.1003 305.4256,-269.9197"/>
<polygon fill="#000000" stroke="#000000" points="306.371,-266.5468 295.7789,-266.7867 304.2087,-273.2045 306.371,-266.5468"/>
<text text-anchor="middle" x="409.7918" y="-290.8" font-family="Times,serif" font-size="14.00" fill="#000000">Timeout</text>
</g>
<!-- RefreshSendStatus&#45;&gt;RefreshSendStatus -->
<g id="edge12" class="edge">
<title>RefreshSendStatus&#45;&gt;RefreshSendStatus</title>
<path fill="none" stroke="#000000" d="M533.5567,-345.5981C548.1447,-344.7983 558.6349,-342.2656 558.6349,-338 558.6349,-334.8008 552.7342,-332.5763 543.6295,-331.3266"/>
<polygon fill="#000000" stroke="#000000" points="543.8349,-327.8309 533.5567,-330.4019 543.1948,-334.8015 543.8349,-327.8309"/>
<text text-anchor="middle" x="581.1349" y="-334.3" font-family="Times,serif" font-size="14.00" fill="#000000">Sending</text>
</g>
<!-- AddSentSMSInfo(OK) -->
<g id="node12" class="node">
<title>AddSentSMSInfo(OK)</title>
<ellipse fill="none" stroke="#000000" cx="463.2918" cy="-251" rx="92.8835" ry="18"/>
<text text-anchor="middle" x="463.2918" y="-247.3" font-family="Times,serif" font-size="14.00" fill="#000000">AddSentSMSInfo(OK)</text>
</g>
<!-- RefreshSendStatus&#45;&gt;AddSentSMSInfo(OK) -->
<g id="edge14" class="edge">
<title>RefreshSendStatus&#45;&gt;AddSentSMSInfo(OK)</title>
<path fill="none" stroke="#000000" d="M463.2918,-319.9735C463.2918,-308.1918 463.2918,-292.5607 463.2918,-279.1581"/>
<polygon fill="#000000" stroke="#000000" points="466.7919,-279.0033 463.2918,-269.0034 459.7919,-279.0034 466.7919,-279.0033"/>
</g>
<!-- MoveSMS(noforce, OK) -->
<g id="node13" class="node">
<title>MoveSMS(noforce, OK)</title>
<ellipse fill="none" stroke="#000000" cx="463.2918" cy="-178" rx="100.1823" ry="18"/>
<text text-anchor="middle" x="463.2918" y="-174.3" font-family="Times,serif" font-size="14.00" fill="#000000">MoveSMS(noforce, OK)</text>
</g>
<!-- AddSentSMSInfo(OK)&#45;&gt;MoveSMS(noforce, OK) -->
<g id="edge15" class="edge">
<title>AddSentSMSInfo(OK)&#45;&gt;MoveSMS(noforce, OK)</title>
<path fill="none" stroke="#000000" d="M463.2918,-232.9551C463.2918,-224.8828 463.2918,-215.1764 463.2918,-206.1817"/>
<polygon fill="#000000" stroke="#000000" points="466.7919,-206.0903 463.2918,-196.0904 459.7919,-206.0904 466.7919,-206.0903"/>
</g>
<!-- AddSentSMSInfo(OK)&#45;&gt;MoveSMS(force, ERR) -->
<g id="edge17" class="edge">
<title>AddSentSMSInfo(OK)&#45;&gt;MoveSMS(force, ERR)</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M395.0118,-238.6706C369.5,-230.6672 342.5588,-217.527 325.2918,-196 308.0355,-174.4863 305.1276,-142.3383 305.6998,-119.2859"/>
<polygon fill="#000000" stroke="#000000" points="309.2054,-119.253 306.1904,-109.0962 302.2135,-118.9163 309.2054,-119.253"/>
<text text-anchor="middle" x="339.7918" y="-174.3" font-family="Times,serif" font-size="14.00" fill="#000000">Error</text>
</g>
<!-- MoveSMS(noforce, OK)&#45;&gt;message sent -->
<g id="edge19" class="edge">
<title>MoveSMS(noforce, OK)&#45;&gt;message sent</title>
<path fill="none" stroke="#000000" d="M463.9134,-159.9735C464.3197,-148.1918 464.8587,-132.5607 465.3208,-119.1581"/>
<polygon fill="#000000" stroke="#000000" points="468.8242,-119.1181 465.671,-109.0034 461.8284,-118.8768 468.8242,-119.1181"/>
</g>
<!-- MoveSMS(noforce, OK)&#45;&gt;MoveSMS(force, ERR) -->
<g id="edge16" class="edge">
<title>MoveSMS(noforce, OK)&#45;&gt;MoveSMS(force, ERR)</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M432.6688,-160.8116C408.3611,-147.1679 374.1984,-127.9927 347.8257,-113.19"/>
<polygon fill="#000000" stroke="#000000" points="349.2846,-109.9952 338.8512,-108.1527 345.8584,-116.0994 349.2846,-109.9952"/>
<text text-anchor="middle" x="408.7918" y="-130.8" font-family="Times,serif" font-size="14.00" fill="#000000">Error</text>
</g>
<!-- MoveSMS(force, ERR)&#45;&gt;error sending message -->
<g id="edge20" class="edge">
<title>MoveSMS(force, ERR)&#45;&gt;error sending message</title>
<path fill="none" stroke="#000000" d="M308.2918,-72.9551C308.2918,-64.8828 308.2918,-55.1764 308.2918,-46.1817"/>
<polygon fill="#000000" stroke="#000000" points="311.7919,-46.0903 308.2918,-36.0904 304.7919,-46.0904 311.7919,-46.0903"/>
</g>
</g>
</svg>
